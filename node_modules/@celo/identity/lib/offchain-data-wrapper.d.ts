/// <reference types="node" />
import { Address } from '@celo/base/lib/address';
import { Result, RootError } from '@celo/base/lib/result';
import { ContractKit } from '@celo/contractkit';
import * as t from 'io-ts';
import { StorageWriter } from './offchain/storage-writers';
export declare enum OffchainErrorTypes {
    FetchError = "FetchError",
    InvalidSignature = "InvalidSignature",
    NoStorageRootProvidedData = "NoStorageRootProvidedData",
    NoStorageProvider = "NoStorageProvider"
}
export declare class FetchError extends RootError<OffchainErrorTypes.FetchError> {
    constructor(error: Error);
}
export declare class InvalidSignature extends RootError<OffchainErrorTypes.InvalidSignature> {
    constructor();
}
export declare class NoStorageRootProvidedData extends RootError<OffchainErrorTypes.NoStorageRootProvidedData> {
    constructor();
}
export declare class NoStorageProvider extends RootError<OffchainErrorTypes.NoStorageProvider> {
    constructor();
}
export type OffchainErrors = FetchError | InvalidSignature | NoStorageRootProvidedData | NoStorageProvider;
export interface OffchainDataWrapper {
    kit: ContractKit;
    signer: Address;
    self: Address;
    writeDataTo(data: Buffer, signature: Buffer, dataPath: string): Promise<OffchainErrors | void>;
    readDataFromAsResult<DataType>(account: Address, dataPath: string, checkOffchainSigners: boolean, type?: t.Type<DataType>): Promise<Result<Buffer, OffchainErrors>>;
}
export declare class BasicDataWrapper implements OffchainDataWrapper {
    readonly self: string;
    readonly kit: ContractKit;
    storageWriter: StorageWriter | undefined;
    signer: string;
    constructor(self: string, kit: ContractKit, signer?: string);
    readDataFromAsResult<DataType>(account: Address, dataPath: string, checkOffchainSigners: boolean, type?: t.Type<DataType>): Promise<Result<Buffer, OffchainErrors>>;
    readDataFrom: <DataType>(account: string, dataPath: string, checkOffchainSigners: boolean, type?: t.Type<DataType, DataType, unknown> | undefined) => Promise<Buffer>;
    writeDataTo(data: Buffer, signature: Buffer, dataPath: string): Promise<OffchainErrors | void>;
}
