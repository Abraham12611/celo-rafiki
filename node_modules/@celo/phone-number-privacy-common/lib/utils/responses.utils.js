"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.send = void 0;
const __1 = require("..");
function send(response, body, status, logger) {
    if (!response.headersSent) {
        if (!body.success) {
            if (body.error in __1.WarningMessage) {
                logger.warn({ error: body.error, status, body }, 'Responding with warning');
            }
            else {
                logger.error({ error: body.error, status, body }, 'Responding with error');
            }
        }
        else {
            logger.info({ status, body }, 'Responding with success');
        }
        response.status(status).json(body);
        logger.info('Completed send');
    }
}
exports.send = send;
